!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactAsyncComponent=t(require("react")):e.ReactAsyncComponent=t(e.React)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=0,t={},n={};return{getNextId:function(){return e+=1},registerComponent:function(e,n){t[e]=n},getComponent:function(e){return t[e]},registerError:function(e,t){n[e]=t},getError:function(e){return n[e]},getState:function(){return{resolved:Object.keys(t).reduce(function(e,t){return Object.assign(e,r({},t,!0))},{}),errors:Object.assign({},n)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),a=r(c),f=n(1),p=r(f),l=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.execContext=this.props.execContext||(0,p.default)(),this.rehydrateState=this.props.initialState}},{key:"getChildContext",value:function(){var e=this;return{asyncComponents:{getNextId:this.execContext.getNextId,registerComponent:this.execContext.registerComponent,getComponent:this.execContext.getComponent,registerError:this.execContext.registerError,getError:this.execContext.getError,getRehydrate:function(t){var n=e.rehydrateState.errors[t],r=e.rehydrateState.resolved[t];return delete e.rehydrateState.errors[t],delete e.rehydrateState.resolved[t],{type:n?"error":r?"resolved":"unresolved",error:n}}}}}},{key:"render",value:function(){return a.default.Children.only(this.props.children)}}]),t}(a.default.Component);l.propTypes={children:a.default.PropTypes.node.isRequired,execContext:a.default.PropTypes.shape({getNextId:a.default.PropTypes.func.isRequired,registerComponent:a.default.PropTypes.func.isRequired,getComponent:a.default.PropTypes.func.isRequired,registerError:a.default.PropTypes.func.isRequired,getError:a.default.PropTypes.func.isRequired}),initialState:a.default.PropTypes.shape({resolved:a.default.PropTypes.object,errors:a.default.PropTypes.object})},l.defaultProps={execContext:void 0,initialState:{resolved:{},errors:{}}},l.childContextTypes={asyncComponents:a.default.PropTypes.shape({getNextId:a.default.PropTypes.func.isRequired,registerComponent:a.default.PropTypes.func.isRequired,getComponent:a.default.PropTypes.func.isRequired,registerError:a.default.PropTypes.func.isRequired,getError:a.default.PropTypes.func.isRequired,getRehydrate:a.default.PropTypes.func.isRequired}).isRequired},t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.name,n=e.resolve,r=e.es6Aware,s=void 0===r||r,f=e.ssrMode,d=void 0===f?"render":f,y=e.LoadingComponent,m=e.ErrorComponent;if(l.indexOf(d)===-1)throw new Error("Invalid ssrMode provided to createAsyncComponent");var v=null,h=function(e){return!s||"function"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":a(e))||"undefined"==typeof e.default?e:e.default},g=function(){var e=void 0;try{e=n()}catch(e){return Promise.reject(e)}return Promise.resolve(e)},C=function(e){function t(e,n){o(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={Component:null};var i=n.asyncComponents,s=i.getNextId;return v||(v=s()),r}return i(t,e),c(t,[{key:"getChildContext",value:function(){return{asyncComponentsAncestor:{isBoundary:"boundary"===d}}}},{key:"componentDidMount",value:function(){var e=this.context.asyncComponents,t=e.getComponent,n=e.getError;n(v)||t(v)||this.resolveComponent()}},{key:"asyncBootstrapperTarget",value:function(){var e=this,t=this.context.asyncComponents,n=t.registerError,r=t.getRehydrate,o=function(){return e.resolveComponent().then(function(e){return"function"==typeof e})};if("undefined"!=typeof window){var u=r(v),i=u.type,s=u.error;return"unresolved"===i?"SSR"!==navigator.userAgent&&o():"error"===i?(n(v,s),!1):o()}var c=this.context.asyncComponentsAncestor,a=c&&c.isBoundary;return"defer"!==d&&!a&&o()}},{key:"resolveComponent",value:function(){var e=this;return g().then(function(t){if(!e.unmounted)return e.context.asyncComponents.registerComponent(v,t),e.setState&&e.setState({Component:h(t)}),t}).catch(function(t){e.context.asyncComponents.registerError(v,t.message),e.setState({error:t.message})})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.context.asyncComponents,t=e.getComponent,n=e.getError,r=n(v);if(r)return m?p.default.createElement(m,{message:r}):null;var o=h(t(v));return o?p.default.createElement(o,this.props):y?p.default.createElement(y,this.props):null}}]),t}(p.default.Component);return C.childContextTypes={asyncComponentsAncestor:p.default.PropTypes.shape({isBoundary:p.default.PropTypes.bool}).isRequired},C.contextTypes={asyncComponentsAncestor:p.default.PropTypes.shape({isBoundary:p.default.PropTypes.bool}),asyncComponents:p.default.PropTypes.shape({getNextId:p.default.PropTypes.func.isRequired,getComponent:p.default.PropTypes.func.isRequired,registerComponent:p.default.PropTypes.func.isRequired,registerError:p.default.PropTypes.func.isRequired,getError:p.default.PropTypes.func.isRequired}).isRequired},C.displayName=t||"AsyncComponent",C}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(0),p=r(f),l=["render","defer","boundary"];t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=function(e,t){return!t||"function"!=typeof t.asyncBootstrapperTarget||t.asyncBootstrapperTarget()};return(0,i.default)(e,t,{}).catch(function(){})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(5),i=r(u)},function(e,t,n){"use strict";function r(e,t,n){return new Promise(function(u){var c=function(e,n,c,a){var f=function(n){n||u();var s=e(),f="function"==typeof c?c():c;if(null==s)u();else if(a){var p=function(e){return e?r(e,t,f):void 0};i(o.Children.map(s,function(e){return e}),p).then(u)}else r(s,t,f).then(u)};n===!1?u():s(n)?n.then(f).catch(function(e){console.log("Error occurred in Promise based visitor result provided to react-tree-walker."),e&&(console.log(e),e.stack&&console.log(e.stack))}):f(!0)};if("function"==typeof e.type){var a=e.type,f=Object.assign({},a.defaultProps,e.props),p=a.prototype&&(a.prototype.isReactComponent||a.prototype.isPureReactComponent);if(p){var l=new a(f,n);l.props=l.props||f,l.context=l.context||n,l.setState=function(e){l.state=Object.assign({},l.state,e)},c(function(){return l.componentWillMount&&l.componentWillMount(),l.render()},t(e,l,n),function(){return l.getChildContext?Object.assign({},n,l.getChildContext()):n})}else c(function(){return a(f,n)},t(e,null,n),n)}else c(function(){return e.props&&e.props.children?e.props.children:void 0},t(e,null,n),n,!0)})}Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0,t.default=r;var o=n(0),u=function(e,t,n){return new Promise(function(r,o){var u=e[Symbol.iterator](),i=0,s=function e(n){var s=u.next();return s.done?void r(n):void Promise.all([n,s.value]).then(function(n){e(t(n[0],n[1],i++))}).catch(o)};s(n)})},i=function(e,t){var n=[];return u(e,function(e,r,o){return Promise.resolve(t(r,o)).then(function(e){n.push(e)})}).then(function(){return n})},s=t.isPromise=function(e){return null!=e&&"function"==typeof e.then}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncBootstrapper=t.createAsyncComponent=t.createContext=t.AsyncComponentProvider=void 0;var o=n(4),u=r(o),i=n(2),s=r(i),c=n(1),a=r(c),f=n(3),p=r(f);t.AsyncComponentProvider=s.default,t.createContext=a.default,t.createAsyncComponent=p.default,t.asyncBootstrapper=u.default}])});